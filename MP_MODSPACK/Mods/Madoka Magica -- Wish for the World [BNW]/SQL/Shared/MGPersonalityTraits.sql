/* CREATE TRIGGER MGPersonalityTraitsDescriptionPromotion
AFTER INSERT ON MG_PersonalityTraits
BEGIN
	UPDATE MG_PersonalityTraits
	SET Description = 'TXT_KEY_' || NEW.Type, LongDescription = 'TXT_KEY_' || NEW.Type || '_LONG', Promotion = 'PROMOTION_PMMM_' || NEW.Type
	WHERE Type = NEW.Type;
END;

CREATE TRIGGER MGPersonalityTraitsNewUnitPromotion
AFTER INSERT ON MG_PersonalityTraits
BEGIN
	INSERT INTO UnitPromotions
				(Type,											Description,					Help,						
				CannotBeChosen,		Sound,	PortraitIndex,	IconAtlas,	PediaType,	PediaEntry)
	SELECT		('PROMOTION_PMMM_' || NEW.Type),				('TXT_KEY_' || NEW.Type),		('TXT_KEY_PROMOTION_' || NEW.Type || '_HELP'),
				CannotBeChosen,		Sound,	PortraitIndex,	IconAtlas,	PediaType,	('TXT_KEY_' || NEW.Type)
	FROM UnitPromotions	WHERE (Type = 'PROMOTION_RIVAL_TERRITORY');
END;

INSERT INTO MG_PersonalityTraits
			(Type)
VALUES		('MGPERSONALITY_KINDHEARTED'),
			('MGPERSONALITY_STOIC'),
			('MGPERSONALITY_SHY'),
			('MGPERSONALITY_TOMBOY'),
			('MGPERSONALITY_TSUNDERE'),
			('MGPERSONALITY_PACIFIST'),
			('MGPERSONALITY_BLOODTHIRSTY'),
			('MGPERSONALITY_SADIST'),
			('MGPERSONALITY_MASOCHIST'),
			('MGPERSONALITY_BIG_EATER'),
			('MGPERSONALITY_GOOD_COOK'),
			('MGPERSONALITY_ANIMAL_LOVER'),
			('MGPERSONALITY_HATES_ANIMALS'),
			('MGPERSONALITY_BIG_SISTER'),
			('MGPERSONALITY_COMPETITIVE'),
			('MGPERSONALITY_BOOKWORM'),
			('MGPERSONALITY_ATHLETE'),
			('MGPERSONALITY_INSECURE'),
			('MGPERSONALITY_LOVES_MUSIC'),
			('MGPERSONALITY_ARTISTIC'),
			('MGPERSONALITY_COMPULSIVE_LIAR'),
			('MGPERSONALITY_RESTLESS'),
			('MGPERSONALITY_FOUL_MOUTHED'),
			('MGPERSONALITY_WATER_PHOBIA'),
			('MGPERSONALITY_LOVES_OCEAN'),
			('MGPERSONALITY_RACIST'),
			('MGPERSONALITY_MUTE'),
			('MGPERSONALITY_TEASE'),
			('MGPERSONALITY_LEADER'),
			('MGPERSONALITY_SOCIAL_BUTTERFLY'),
			('MGPERSONALITY_YANDERE'),
			('MGPERSONALITY_BIZARRE'),
			('MGPERSONALITY_LAZY'),
			('MGPERSONALITY_MOOD_SWINGER'),
			('MGPERSONALITY_ALLY_OF_JUSTICE'),
			('MGPERSONALITY_OJOU'),
			('MGPERSONALITY_CHUUNI'),
			('MGPERSONALITY_TRAVELER'),
			('MGPERSONALITY_THRILL_SEEKER'),
			('MGPERSONALITY_LOVES_DRINKING'),
			('MGPERSONALITY_MATERIALISTIC'),
			('MGPERSONALITY_SPIRITUAL');


--Make some traits rarer
UPDATE MG_PersonalityTraits
SET Rarity = -25
WHERE Type = 'MGPERSONALITY_MOOD_SWINGER' OR Type = 'MGPERSONALITY_WATER_PHOBIA';

UPDATE MG_PersonalityTraits
SET Rarity = -50
WHERE Type = 'MGPERSONALITY_YANDERE' OR Type = 'MGPERSONALITY_MUTE';

UPDATE MG_PersonalityTraits
SET Rarity = -75
WHERE Type = 'MGPERSONALITY_BIZARRE';

DROP TRIGGER MGPersonalityTraitsDescriptionPromotion;
DROP TRIGGER MGPersonalityTraitsNewUnitPromotion;


--Automatically add the reverse of any blocks for easier searching.
--Example: if MGPERSONALITY_PACIFIST is added as a PersonalityTraitType and MGPERSONALITY_BLOODTHIRSTY is added as a BlockedPersonalityTraitType,
--it will automatically add a new entry with MGPERSONALITY_BLOODTHIRSTY as the PersonalityTraitType and MGPERSONALITY_PACIFIST as the BlockedPersonalityTraitType
--if that entry doesn't already exist.
CREATE TRIGGER MGPersonalityTraitsBlocksAddReverse
AFTER INSERT ON MG_PersonalityTraitBlocks
BEGIN
	INSERT OR IGNORE INTO MG_PersonalityTraitBlocks
				(PersonalityTraitType,				BlockedPersonalityTraitType)				
	SELECT		NEW.BlockedPersonalityTraitType,	NEW.PersonalityTraitType;
END;


INSERT INTO MG_PersonalityTraitBlocks
			(PersonalityTraitType,			BlockedPersonalityTraitType)
VALUES		('MGPERSONALITY_KINDHEARTED',	'MGPERSONALITY_BLOODTHIRSTY'),
			('MGPERSONALITY_KINDHEARTED',	'MGPERSONALITY_SADIST'),
			('MGPERSONALITY_KINDHEARTED',	'MGPERSONALITY_RACIST'),
			('MGPERSONALITY_TOMBOY',		'MGPERSONALITY_OJOU'),
			('MGPERSONALITY_TSUNDERE',		'MGPERSONALITY_YANDERE'),
			('MGPERSONALITY_PACIFIST',		'MGPERSONALITY_BLOODTHIRSTY'),
			('MGPERSONALITY_ANIMAL_LOVER',	'MGPERSONALITY_HATES_ANIMALS'),
			('MGPERSONALITY_ATHLETE',		'MGPERSONALITY_LAZY'),
			('MGPERSONALITY_RESTLESS',		'MGPERSONALITY_LAZY'),
			('MGPERSONALITY_WATER_PHOBIA',	'MGPERSONALITY_LOVES_OCEAN'),
			('MGPERSONALITY_STOIC',			'MGPERSONALITY_SOCIAL_BUTTERFLY'),
			('MGPERSONALITY_BLOODTHIRSTY',	'MGPERSONALITY_ALLY_OF_JUSTICE'),
			('MGPERSONALITY_TRAVELER',		'MGPERSONALITY_RACIST'),
			('MGPERSONALITY_THRILL_SEEKER',	'MGPERSONALITY_INSECURE'),
			('MGPERSONALITY_SPIRITUAL',		'MGPERSONALITY_MATERIALISTIC');



--Do the same trigger for Relationship bonuses.
CREATE TRIGGER MGPersonalityTraitRelationshipModifiersAddReverse
AFTER INSERT ON MG_PersonalityTraitRelationshipModifiers
BEGIN
	INSERT OR IGNORE INTO MG_PersonalityTraitRelationshipModifiers
				(PersonalityTraitType,				PartnerPersonalityTraitType,	Modifier)				
	SELECT		NEW.PartnerPersonalityTraitType,	NEW.PersonalityTraitType,		NEW.Modifier;
END;


INSERT INTO MG_PersonalityTraitBonuses
			(PersonalityTraitType,				PartnerPersonalityTraitType,		Modifier)		
VALUES		('MGPERSONALITY_KINDHEARTED',		'MGPERSONALITY_INSECURE',			25),
			('MGPERSONALITY_KINDHEARTED',		'MGPERSONALITY_ALLY_OF_JUSTICE',	25),
			('MGPERSONALITY_KINDHEARTED',		'MGPERSONALITY_PACIFIST',			25),
			('MGPERSONALITY_KINDHEARTED',		'MGPERSONALITY_BLOODTHIRSTY',		-25),
			('MGPERSONALITY_KINDHEARTED',		'MGPERSONALITY_SADIST',				-25),
			('MGPERSONALITY_STOIC',				'MGPERSONALITY_COMPETITIVE',		25),
			('MGPERSONALITY_STOIC',				'MGPERSONALITY_BOOKWORM',			25),
			('MGPERSONALITY_STOIC',				'MGPERSONALITY_COMPETITIVE',		25),
			('MGPERSONALITY_STOIC',				'MGPERSONALITY_SOCIAL_BUTTERFLY',	-25),
			('MGPERSONALITY_STOIC',				'MGPERSONALITY_LOVES_DRINKING',		-25),
			('MGPERSONALITY_TOMBOY',			'MGPERSONALITY_COMPETITIVE',		25),
			('MGPERSONALITY_TOMBOY',			'MGPERSONALITY_THRILL_SEEKER',		25),
			('MGPERSONALITY_TOMBOY',			'MGPERSONALITY_FOUL_MOUTHED',		25),
			('MGPERSONALITY_TOMBOY',			'MGPERSONALITY_LAZY',				-25),
			('MGPERSONALITY_TOMBOY',			'MGPERSONALITY_OJOU',				-25),
			('MGPERSONALITY_PACIFIST',			'MGPERSONALITY_ALLY_OF_JUSTICE',	25),
			('MGPERSONALITY_BLOODTHIRSTY',		'MGPERSONALITY_PACIFIST',			-50),
			('MGPERSONALITY_BLOODTHIRSTY',		'MGPERSONALITY_ALLY_OF_JUSTICE',	-25),
			('MGPERSONALITY_BLOODTHIRSTY',		'MGPERSONALITY_SADIST',				25),
			('MGPERSONALITY_SADIST',			'MGPERSONALITY_MASOCHIST',			50),
			('MGPERSONALITY_MASOCHIST',			'MGPERSONALITY_OJOU',				25),
			('MGPERSONALITY_BIG_EATER',			'MGPERSONALITY_GOOD_COOK',			50),
			('MGPERSONALITY_ANIMAL_LOVER',		'MGPERSONALITY_HATES_ANIMALS',		-50),
			('MGPERSONALITY_BIG_SISTER',		'MGPERSONALITY_SHY',				25),
			('MGPERSONALITY_BIG_SISTER',		'MGPERSONALITY_INSECURE',			25),
			('MGPERSONALITY_BOOKWORM',			'MGPERSONALITY_LAZY',				25),
			('MGPERSONALITY_ATHLETE',			'MGPERSONALITY_LAZY',				-25),
			('MGPERSONALITY_FOUL_MOUTHED',		'MGPERSONALITY_LOVES_DRINKING',		25),
			('MGPERSONALITY_WATER_PHOBIA',		'MGPERSONALITY_LOVES_OCEAN',		-50),
			('MGPERSONALITY_MUTE',				'MGPERSONALITY_SOCIAL_BUTTERFLY',	-25),
			('MGPERSONALITY_LAZY',				'MGPERSONALITY_TRAVELER',			-25),
			('MGPERSONALITY_CHUUNI',			'MGPERSONALITY_BIG_SISTER',			25),
			('MGPERSONALITY_TRAVELER',			'MGPERSONALITY_THRILL_SEEKER',		25),
			('MGPERSONALITY_MATERIALISTIC',		'MGPERSONALITY_LAZY',				25),
			('MGPERSONALITY_MATERIALISTIC',		'MGPERSONALITY_LOVES_DRINKING',		25),
			('MGPERSONALITY_SPIRITUAL',			'MGPERSONALITY_MATERIALISTIC',		-25),
			('MGPERSONALITY_MATERIALISTIC',		'MGPERSONALITY_LOVES_DRINKING',		-25);


INSERT INTO MG_PersonalityTraitEntertainmentBonuses
			(PersonalityTraitType,				BuildingClassType,				Modifier)
VALUES		--Base game buildings
			('MGPERSONALITY_KINDHEARTED',		'BUILDINGCLASS_HOSPITAL',			1),
			('MGPERSONALITY_STOIC',				'BUILDINGCLASS_UNIVERSITY',			1),
			('MGPERSONALITY_STOIC',				'BUILDINGCLASS_GARDEN',				1),
			('MGPERSONALITY_SHY',				'BUILDINGCLASS_LIBRARY',			1),
			('MGPERSONALITY_TOMBOY',			'BUILDINGCLASS_STADIUM',			1),
			('MGPERSONALITY_TOMBOY',			'BUILDINGCLASS_WORKSHOP',			1),
			('MGPERSONALITY_BLOODTHIRSTY',		'BUILDINGCLASS_BARRACKS',			1),
			('MGPERSONALITY_BLOODTHIRSTY',		'BUILDINGCLASS_ARMORY',				1),
			('MGPERSONALITY_BLOODTHIRSTY',		'BUILDINGCLASS_MILITARY_ACADEMY',	1),
			('MGPERSONALITY_LOVES_MUSIC',		'BUILDINGCLASS_OPERA_HOUSE',		1),
			('MGPERSONALITY_LOVES_MUSIC',		'BUILDINGCLASS_BROADCAST_TOWER',	1),
			('MGPERSONALITY_SPIRITUAL',			'BUILDINGCLASS_SHRINE',				1),
			('MGPERSONALITY_SPIRITUAL',			'BUILDINGCLASS_TEMPLE',				1),
			('MGPERSONALITY_ARTISTIC',			'BUILDINGCLASS_MUSEUM',				2),
			('MGPERSONALITY_BOOKWORM',			'BUILDINGCLASS_LIBRARY',			2),
			('MGPERSONALITY_TRAVELER',			'BUILDINGCLASS_HOTEL',				1),
			('MGPERSONALITY_TRAVELER',			'BUILDINGCLASS_AIRPORT',			1),
			('MGPERSONALITY_ATHLETE',			'BUILDINGCLASS_COLOSSEUM',			1),
			('MGPERSONALITY_STADIUM',			'BUILDINGCLASS_STADIUM',			1),
			('MGPERSONALITY_LOVES_ANIMALS',		'BUILDINGCLASS_CIRCUS',				1),
			('MGPERSONALITY_LOVES_ANIMALS',		'BUILDINGCLASS_ZOO',				1),
			('MGPERSONALITY_LOVES_OCEAN',		'BUILDINGCLASS_HARBOR',				1),
			('MGPERSONALITY_LOVES_OCEAN',		'BUILDINGCLASS_SEAPORT',			1),
			('MGPERSONALITY_MATERIALISTIC',		'BUILDINGCLASS_MARKET',				1),
			('MGPERSONALITY_MATERIALISTIC',		'BUILDINGCLASS_BANK',				1),
			('MGPERSONALITY_OJOU',				'BUILDINGCLASS_MINT',				1),
			('MGPERSONALITY_OJOU',				'BUILDINGCLASS_CASTLE',				1),
			('MGPERSONALITY_ALLY_OF_JUSTICE',	'BUILDINGCLASS_CONSTABLE',			1),
			('MGPERSONALITY_ALLY_OF_JUSTICE',	'BUILDINGCLASS_POLICE_STATION',		1),
			('MGPERSONALITY_COMPETITIVE',		'BUILDINGCLASS_COLOSSEUM',			1),
			('MGPERSONALITY_BIZARRE',			'BUILDINGCLASS_MONUMENT',			2),
			('MGPERSONALITY_TOMBOY',			'BUILDINGCLASS_STADIUM',			1),
			('MGPERSONALITY_BIG_EATER',			'BUILDINGCLASS_GRANARY',			1),
			('MGPERSONALITY_SADIST',			'BUILDINGCLASS_COURTHOUSE',			2),
			('MGPERSONALITY_MASOCHIST',			'BUILDINGCLASS_ARSENAL',			2),
			('MGPERSONALITY_HATES_ANIMALS',		'BUILDINGCLASS_GRANARY',			1),


			--New Entertainment Buildings
			('MGPERSONALITY_KINDHEARTED',		'BUILDINGCLASS_PMMM_TOYSTORE',		1); */